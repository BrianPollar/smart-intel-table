{"ast":null,"code":"import { ComponentFactoryResolver, ViewContainerRef } from '@angular/core';\nimport { Cell } from '../../../defines/data-set/cell.define';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"dynamicTarget\"];\nfunction CustomViewComponent_ng_template_0_Template(rf, ctx) {}\nexport class CustomViewComponent {\n  constructor(resolver) {\n    this.resolver = resolver;\n  }\n  ngOnInit() {\n    if (this.cell && !this.customComponent) {\n      this.createCustomComponent();\n      this.callOnComponentInit();\n      this.patchInstance();\n    }\n  }\n  ngOnDestroy() {\n    if (this.customComponent) {\n      this.customComponent.destroy();\n    }\n  }\n  createCustomComponent() {\n    const componentFactory = this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);\n    this.customComponent = this.dynamicTarget.createComponent(componentFactory);\n  }\n  callOnComponentInit() {\n    const onComponentInitFunction = this.cell.getColumn().getOnComponentInitFunction();\n    // TODO onComponentInitFunction && onComponentInitFunction(this.customComponent.instance);\n    onComponentInitFunction && onComponentInitFunction();\n  }\n  patchInstance() {\n    Object.assign(this.customComponent.instance, this.getPatch());\n  }\n  getPatch() {\n    return {\n      value: this.cell.getValue(),\n      rowData: this.cell.getRow().getData()\n    };\n  }\n}\nCustomViewComponent.ɵfac = function CustomViewComponent_Factory(t) {\n  return new (t || CustomViewComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver));\n};\nCustomViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomViewComponent,\n  selectors: [[\"custom-view-component\"]],\n  viewQuery: function CustomViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dynamicTarget = _t.first);\n    }\n  },\n  inputs: {\n    cell: \"cell\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"dynamicTarget\", \"\"]],\n  template: function CustomViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomViewComponent_ng_template_0_Template, 0, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    }\n  },\n  encapsulation: 2\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}