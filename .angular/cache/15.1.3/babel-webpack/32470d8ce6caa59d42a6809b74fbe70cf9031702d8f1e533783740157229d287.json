{"ast":null,"code":"import { ComponentFactoryResolver, SimpleChanges, ViewContainerRef } from '@angular/core';\nimport { FilterDefault } from './filter-default';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"dynamicTarget\"];\nfunction CustomFilterComponent_ng_template_0_Template(rf, ctx) {}\nexport class CustomFilterComponent extends FilterDefault {\n  constructor(resolver) {\n    super();\n    this.resolver = resolver;\n  }\n  ngOnChanges(changes) {\n    if (this.column && !this.customComponent) {\n      const componentFactory = this.resolver.resolveComponentFactory(this.column.filter.component);\n      this.customComponent = this.dynamicTarget.createComponent(componentFactory);\n      // set @Inputs and @Outputs of custom component\n      this.customComponent.instance.query = this.query;\n      this.customComponent.instance.column = this.column;\n      this.customComponent.instance.source = this.source;\n      this.customComponent.instance.inputClass = this.inputClass;\n      this.customComponent.instance.filter.subscribe(event => this.onFilter(event));\n    }\n    if (this.customComponent) {\n      this.customComponent.instance.ngOnChanges(changes);\n    }\n  }\n  ngOnDestroy() {\n    if (this.customComponent) {\n      this.customComponent.destroy();\n    }\n  }\n}\nCustomFilterComponent.ɵfac = function CustomFilterComponent_Factory(t) {\n  return new (t || CustomFilterComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver));\n};\nCustomFilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomFilterComponent,\n  selectors: [[\"custom-table-filter\"]],\n  viewQuery: function CustomFilterComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dynamicTarget = _t.first);\n    }\n  },\n  inputs: {\n    query: \"query\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 0,\n  consts: [[\"dynamicTarget\", \"\"]],\n  template: function CustomFilterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomFilterComponent_ng_template_0_Template, 0, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    }\n  },\n  encapsulation: 2\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}